parameters:
  - name: shipName
    type: string
    default: Millennium Falcon
  - name: planet
    type: string
    default: Tatooine
  - name: fight
    type: string
    default: 'false'

steps:
  - script: |
      echo "##vso[task.setvariable variable=fightVar]${{ parameters.fight }}"
      echo "Fight: $(fightVar)"
    displayName: Set variables
  - script: echo "${{ parameters.shipName }} is flying to ${{ parameters.planet }}"
    displayName: Fly
  - script: echo "... to fight Imperium"
    displayName: Fight
    condition: eq(lower(variables.fightVar), 'true')
